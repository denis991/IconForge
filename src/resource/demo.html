<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA Icon Generator - –î–µ–º–æ</title>
    <link rel="stylesheet" href="../style/demo.css">
</head>
<body>
    <div class="container">
        <h1>üé® PWA Icon Generator - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è</h1>
        
        <p>–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–∫–æ–Ω–æ–∫ –¥–ª—è PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
        
        <div class="demo-section">
            <h2>üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>
            <ul class="feature-list">
                <li>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ PWA –∏–∫–æ–Ω–æ–∫</li>
                <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SVG, PNG, JPEG —Ñ–æ—Ä–º–∞—Ç–æ–≤</li>
                <li>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è —É–≥–ª–æ–≤</li>
                <li>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç—Å—Ç—É–ø–æ–≤</li>
                <li>–í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ —Ñ–æ–Ω–∞</li>
                <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è manifest.json</li>
                <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è favicon.ico</li>
                <li>–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤ ZIP –∞—Ä—Ö–∏–≤–µ</li>
                <li>–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ manifest –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h2>üì± –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∫–æ–Ω–æ–∫</h2>
            <div id="iconSizesDemo" class="icon-grid"></div>
        </div>
        
        <div class="demo-section">
            <h2>üìÑ –ü—Ä–∏–º–µ—Ä manifest.json</h2>
            <div class="code-block" id="manifestExample"></div>
        </div>
        
        <div class="demo-section">
            <h2>üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç</h2>
            <h3>1. HTML</h3>
            <div class="code-block">
&lt;!-- –í &lt;head&gt; —Å–µ–∫—Ü–∏–∏ --&gt;
&lt;link rel="manifest" href="/manifest.json"&gt;
&lt;meta name="theme-color" content="#007bff"&gt;

&lt;!-- Favicon --&gt;
&lt;link rel="icon" href="/favicon.ico" type="image/x-icon"&gt;
&lt;link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png"&gt;
&lt;link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png"&gt;

&lt;!-- Apple Touch Icons --&gt;
&lt;link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"&gt;
&lt;link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"&gt;

&lt;!-- Favicon --&gt;
&lt;link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png"&gt;
&lt;link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png"&gt;
            </div>
            
            <h3>2. Service Worker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
            <div class="code-block">
// –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫
const CACHE_NAME = 'app-icons-v1';
const ICON_URLS = [
  '/icons/icon-192x192.png',
  '/icons/icon-512x512.png',
  '/manifest.json'
];

self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(ICON_URLS))
  );
});
            </div>
        </div>
        
        <div class="demo-section">
            <h2>üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</h2>
            <ol>
                <li>–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 512x512px –∏–ª–∏ –±–æ–ª—å—à–µ)</li>
                <li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</li>
                <li>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ, –æ—Ç—Å—Ç—É–ø—ã, —Ü–≤–µ—Ç–∞)</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏"</li>
                <li>–°–∫–∞—á–∞–π—Ç–µ ZIP –∞—Ä—Ö–∏–≤ —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ manifest.json</li>
                <li>–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç</li>
            </ol>
        </div>
        
        <div style="text-align: center; margin: 2rem 0;">
            <a href="../../index.html" class="btn">üöÄ –û—Ç–∫—Ä—ã—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</a>
            <a href="../../index.html" class="btn" style="background: #28a745;">üìù –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ MarkMirror</a>
        </div>
    </div>

    <script>
        // Demo functionality
        document.addEventListener('DOMContentLoaded', () => {
            generateIconSizesDemo();
            generateManifestExample();
        });

        function generateIconSizesDemo() {
            const sizes = [16, 32, 48, 72, 96, 128, 144, 152, 192, 256, 384, 512];
            const container = document.getElementById('iconSizesDemo');
            
            sizes.forEach(size => {
                const demo = document.createElement('div');
                demo.className = 'icon-demo';
                
                const canvas = document.createElement('canvas');
                canvas.width = size;
                canvas.height = size;
                
                const ctx = canvas.getContext('2d');
                
                // Create demo icon
                const gradient = ctx.createLinearGradient(0, 0, size, size);
                gradient.addColorStop(0, '#007bff');
                gradient.addColorStop(1, '#0056b3');
                
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, size, size);
                
                // Add rounded corners
                ctx.globalCompositeOperation = 'destination-in';
                ctx.beginPath();
                roundRect(ctx, 0, 0, size, size, size * 0.15);
                ctx.fill();
                ctx.globalCompositeOperation = 'source-over';
                
                // Add text
                ctx.fillStyle = 'white';
                ctx.font = `bold ${size * 0.3}px Arial`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText('M', size / 2, size / 2);
                
                const p = document.createElement('p');
                p.textContent = `${size}√ó${size}`;
                
                demo.appendChild(canvas);
                demo.appendChild(p);
                container.appendChild(demo);
            });
        }

        function roundRect(ctx, x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
        }

        function generateManifestExample() {
            const manifest = {
                "name": "MarkMirror Mobile - Markdown Editor",
                "short_name": "MarkMirror",
                "description": "–ú–æ—â–Ω—ã–π Markdown-—Ä–µ–¥–∞–∫—Ç–æ—Ä —Å –¥–≤—É—Ö–ø–∞–Ω–µ–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º",
                "start_url": "/",
                "display": "standalone",
                "background_color": "#ffffff",
                "theme_color": "#007bff",
                "orientation": "any",
                "scope": "/",
                "lang": "ru",
                "icons": [
                    {
                        "src": "icons/icon-192x192.png",
                        "sizes": "192x192",
                        "type": "image/png",
                        "purpose": "any maskable"
                    },
                    {
                        "src": "icons/icon-512x512.png",
                        "sizes": "512x512",
                        "type": "image/png",
                        "purpose": "any maskable"
                    }
                ],
                "shortcuts": [
                    {
                        "name": "–ù–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç",
                        "short_name": "–ù–æ–≤—ã–π",
                        "description": "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç",
                        "url": "/?action=new",
                        "icons": [
                            {
                                "src": "icons/icon-96x96.png",
                                "sizes": "96x96"
                            }
                        ]
                    }
                ]
            };
            
            document.getElementById('manifestExample').textContent = JSON.stringify(manifest, null, 2);
        }
    </script>
</body>
</html>
